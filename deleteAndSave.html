<html>
    <head>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
        <script type="text/javascript" src="http://static.stackmob.com/js/json2-min.js"></script>
        <script type="text/javascript" src="http://static.stackmob.com/js/underscore-1.3.3-min.js"></script>
        <script type="text/javascript" src="http://static.stackmob.com/js/backbone-0.9.2-min.js"></script>
        <script type="text/javascript" src="http://static.stackmob.com/js/2.5.3-crypto-sha1-hmac.js"></script>
        <script type="text/javascript" src="stackmob.js"></script>
    </head>
    <body>

        <script type="text/javascript">
            StackMob.init({
                appName: "stackmobtests",
                clientSubdomain: "justinwyne015",
                publicKey: "172f09e3-ded4-47d8-a1a0-da36ab266045",
                apiVersion: 0
            });

            // Declare this once on the page to associate a schema
            var TestObject = StackMob.Model.extend({
                schemaName: 'testobject'
            });

            // Get an existing user
            var object = new TestObject({"id": "80514d7032154bd8a63793c46d0d8ca5"});

            object.fetch({
                success: function(){
                    user.deleteAndSave('stringarray', ['a', 'b'], StackMob.SOFT_DELETE, { 
                        success: function() { 
                            console.log("success");
                            console.log( "user" );
                            console.log( JSON.stringify( object.toJSON() ) );
                        },
                        error: function() { 
                            console.log("error")
                        }
                    });
                },
                error: function(){
                    console.log("error");
                }
            });

        </script>

    </body>
</html>
